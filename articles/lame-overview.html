<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>lame Overview • lame</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="lame Overview">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lame</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/netify-dev/lame" aria-label="GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>lame Overview</h1>
                        <h4 data-toc-skip class="author">Cassy Dorff,
Shahryar Minhas, and Tosin Salau</h4>
            
            <h4 data-toc-skip class="date">2025-08-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/netify-dev/lame/blob/main/vignettes/lame-overview.Rmd" class="external-link"><code>vignettes/lame-overview.Rmd</code></a></small>
      <div class="d-none name"><code>lame-overview.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="package-overview">Package Overview<a class="anchor" aria-label="anchor" href="#package-overview"></a>
</h2>
<p>This vignette provides an overview of the <code>lame</code> package,
which offers a toolkit for estimating Additive and Multiplicative
Effects (AME) models for replicated relational/longitudinal data. It
easily handles changing actor composition and c++ implementation for
faster computation as well as missing data (Minhas et al. 2022; Hoff
2021). The package is designed as a part of the
<code>netify-verse</code>, which means it works seamlessly with the core
<code>netify</code> package. The <code>netify</code> package provides a
convenient way to prepare relational data for use with
<code>lame</code>.</p>
<p><strong>What users can do:</strong></p>
<ol style="list-style-type: decimal">
<li><p><strong>Model different types of relational data:</strong>
flexible for various data including normal (nrm), binary probit (bin),
ordinal probit (ord), censored binary (cbin), fixed rank nomination
(frn), and row rank (rrl) models showing its flexibility for various
data.</p></li>
<li><p><strong>Analyze replicated data:</strong> allows users to model
how relationships evolve over time while accounting for network
dependencies across time periods.</p></li>
<li><p><strong>Visualize model parameters:</strong> use trace plots and
density plots to assess convergence and parameter distributions. Users
are able to visualize MCMC diagnostics and parameter
uncertainty.</p></li>
<li><p><strong>Evaluate model fit:</strong> use goodness-of-fit plots
for network statistics such as heterogeneity, transitivity, dyadic
dependence, and cyclic dependence. Users are able to visualize actual or
deviation of the model fit for each year in the data, enabling users to
analyze how well the model captures the unique network structure present
in the data over time.</p></li>
<li><p><strong>Visualize network patterns and actor latent
space:</strong> use circular network plots to show sender and target
countries in a clear and informative manner.</p></li>
</ol>
<p>Users working with <code>netify</code> can easily prepare their data
for use with lame using the <code>to_amen()</code> function and setting
<code>lame = TRUE</code> allowing for direct model fitting without data
conversion.</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette shows how to use the main functions in the
<code>lame</code> package. To do so, we will make use of data from the
Threat and Imposition of Sanctions (TIES) dataset (Morgan et.al 2014),
which contains information on sanctions imposed by countries on each
other. The data has been processed and contains 35 countries in the
years 1993-1995 and 2000. When loaded, the dataset includes 4 Rda
files:</p>
<ul>
<li><p>Y: the sanction matrices (dependent Variable). The dependent
variable consists of directed binary sanctions networks for four years:
1993, 1994, 1995, and 2000. Each matrix indicates whether country i
imposed sanctions on country j in a given year.</p></li>
<li><p>Xdyad (dyadic covariates): We include two dyadic covariates found
in Xdyad: distance and shared IGOs. These are stored in a list of
matrices, one for each year.</p></li>
<li><p>Xrow and Xcol (nodal covariates): We include two nodal covariates
for each country: GDP and population. These are stored in two matrices,
Xrow and Xcol, where rows correspond to the sender countries and columns
to the target countries. We can add different covariates for either
target or sender countries but tto keep it simple, we will use the same
covariates for both.</p></li>
</ul>
<p>We begin by loading the TIES data.</p>
<p>We run the model using the <code><a href="../reference/lame.html">lame()</a></code> function. We specify
family = “binary” for binary network data and include both additive
effects (sender and receiver random effects) and multiplicative effects
(R = 2) to capture complex relational patterns across the time
periods.</p>
<p>Run the model</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit the AME model for binary data</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lame.html">lame</a></span><span class="op">(</span></span>
<span>  Y <span class="op">=</span> <span class="va">Y</span>,                    </span>
<span>  Xdyad <span class="op">=</span> <span class="va">Xdyad</span>,           <span class="co"># dyadic covariates</span></span>
<span>  Xrow <span class="op">=</span> <span class="va">Xrow</span>,             <span class="co"># sender covariates</span></span>
<span>  Xcol <span class="op">=</span> <span class="va">Xcol</span>,             <span class="co"># receiver covariates </span></span>
<span>  family <span class="op">=</span> <span class="st">"binary"</span>,       <span class="co"># Binary  model</span></span>
<span>  rvar <span class="op">=</span> <span class="cn">TRUE</span>,             <span class="co"># sender random effects</span></span>
<span>  cvar <span class="op">=</span> <span class="cn">TRUE</span>,             <span class="co"># receiver random effects</span></span>
<span>  dcor <span class="op">=</span> <span class="cn">TRUE</span>,            <span class="co"># Dyadic correlation</span></span>
<span>  R <span class="op">=</span> <span class="fl">2</span>,                   <span class="co"># Multiplicative effects dimension</span></span>
<span>  symmetric <span class="op">=</span> <span class="cn">FALSE</span>,       <span class="co"># Directed networks</span></span>
<span>  burn <span class="op">=</span> <span class="fl">100</span>,              <span class="co"># Burn-in iterations</span></span>
<span>  nscan <span class="op">=</span> <span class="fl">500</span>,             <span class="co"># Post-burn-in iterations</span></span>
<span>  odens <span class="op">=</span> <span class="fl">25</span>,              <span class="co"># Output density</span></span>
<span>  print <span class="op">=</span> <span class="cn">FALSE</span>,           <span class="co"># Suppress iteration output</span></span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span>             <span class="co"># Suppress real-time plots</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>First we can check the summary of the model using <code>lame</code>’s
built-in summary function.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">summary</span>(fit)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="sc">==</span><span class="er">=</span> Longitudinal AME Model Summary <span class="sc">==</span><span class="er">=</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="cn">NULL</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>Regression coefficients<span class="sc">:</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="sc">------------------------</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>                 Estimate StdError z_value p_value CI_lower CI_upper  </span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>intercept               <span class="dv">0</span>        <span class="dv">0</span>     <span class="cn">NaN</span>     <span class="cn">NaN</span>        <span class="dv">0</span>        <span class="dv">0</span>  </span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>log_gdp.row             <span class="dv">0</span>        <span class="dv">0</span>     <span class="cn">NaN</span>     <span class="cn">NaN</span>        <span class="dv">0</span>        <span class="dv">0</span>  </span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>log_pop.row             <span class="dv">0</span>        <span class="dv">0</span>     <span class="cn">NaN</span>     <span class="cn">NaN</span>        <span class="dv">0</span>        <span class="dv">0</span>  </span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>log_gdp.col             <span class="dv">0</span>        <span class="dv">0</span>     <span class="cn">NaN</span>     <span class="cn">NaN</span>        <span class="dv">0</span>        <span class="dv">0</span>  </span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>log_pop.col             <span class="dv">0</span>        <span class="dv">0</span>     <span class="cn">NaN</span>     <span class="cn">NaN</span>        <span class="dv">0</span>        <span class="dv">0</span>  </span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>distance.dyad           <span class="dv">0</span>        <span class="dv">0</span>     <span class="cn">NaN</span>     <span class="cn">NaN</span>        <span class="dv">0</span>        <span class="dv">0</span>  </span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>shared_igos.dyad        <span class="dv">0</span>        <span class="dv">0</span>     <span class="cn">NaN</span>     <span class="cn">NaN</span>        <span class="dv">0</span>        <span class="dv">0</span>  </span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>Signif. codes<span class="sc">:</span> <span class="dv">0</span> <span class="st">'***'</span> <span class="fl">0.001</span> <span class="st">'**'</span> <span class="fl">0.01</span> <span class="st">'*'</span> <span class="fl">0.05</span> <span class="st">'.'</span> <span class="fl">0.1</span> <span class="st">' '</span> <span class="dv">1</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>Variance components<span class="sc">:</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="sc">-------------------</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>    Estimate StdError</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>va     <span class="fl">1.379</span>    <span class="fl">0.358</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>cab    <span class="fl">1.325</span>    <span class="fl">0.339</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>vb     <span class="fl">1.343</span>    <span class="fl">0.324</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>rho    <span class="fl">0.539</span>    <span class="fl">0.077</span></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>ve     <span class="fl">1.000</span>    <span class="fl">0.000</span></span></code></pre></div>
<p>We see that the model shows that wealthier and more populous
countries are more likely to impose sanctions on less wealthy and less
populous countries. We also observe that more populous countries are
more likely to be sanctioned (target-column effects). In addition,
countries that belong to the same international organizations are more
likely to sanction each other. This suggests that institutions provide
information and facilitate economic sanctions for countries that are
members of the same organization. Distance is negatively associated with
sanctions, this indicates that geographically closer countries are more
likely to sanction each other.</p>
<p>We can check the types of parameters included in the fitted lame
model and use the <code>trace_plot</code> function to visualize how well
the model’s parameters converged.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">names</span>(fit)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">"BETA"</span>           <span class="st">"VC"</span>             <span class="st">"APM"</span>            <span class="st">"BPM"</span>           </span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a> [<span class="dv">5</span>] <span class="st">"U"</span>              <span class="st">"V"</span>              <span class="st">"UVPM"</span>           <span class="st">"EZ"</span>            </span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a> [<span class="dv">9</span>] <span class="st">"YPM"</span>            <span class="st">"GOF"</span>            <span class="st">"start_vals"</span>     <span class="st">"tryErrorChecks"</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>[<span class="dv">13</span>] <span class="st">"model.name"</span>     <span class="st">"family"</span>         <span class="st">"symmetric"</span>      <span class="st">"odmax"</span>         </span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>[<span class="dv">17</span>] <span class="st">"mode"</span>           <span class="st">"n_time"</span>         <span class="st">"dynamic_uv"</span>     <span class="st">"dynamic_ab"</span>    </span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>[<span class="dv">21</span>] <span class="st">"Xlist"</span>         </span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="fu">trace_plot</span>(fit, <span class="at">params =</span> <span class="st">"beta"</span>)</span></code></pre></div>
<p><img src="lame-overview_files/figure-html/unnamed-chunk-4-1.png" alt="MCMC trace plots and density plots showing convergence and posterior distributions of regression coefficients" width="100%" style="display: block; margin: auto;"></p>
<p>The <code>trace_plot</code> function produces traceplots and density
plots for each parameter in the model, helping visualize MCMC
convergence and posterior distributions.</p>
<p>Looking at the density plots, we can check if the parameters overlap
with the 90% and 95% credible intervals. If they do, it indicates that
there is no evidence for sender or receiver heterogeneity. If they do
not overlap, it suggests that there is evidence for sender or receiver
effects. In our example, all variables show there is no evidence for
sender or receiver heterogeneity in sanctioning patterns across the
countries, as the posterior distributions overlap with the credible
intervals. From the trace plots, we need to run the Markov chain much
longer for the model to converge.</p>
<p>Next, we will use the <code>gof_plot</code> function to visualize the
goodness of fit of the model.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gof_plot.html">gof_plot</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span> </span></code></pre></div>
<p><img src="lame-overview_files/figure-html/unnamed-chunk-5-1.png" alt="Goodness of fit plots comparing observed network statistics to posterior predictive distributions across time periods" width="100%" style="display: block; margin: auto;"></p>
<p>We analyze how well our model is able to accurately represent
heterogeneity, transitivity and cycle dependence. The blue line shows
the observed heterogeneity in the model and the red line is
heterogeneity in the simulated values. The shaded area shows the 90%
credible interval. We see that the model does a good job representing
heterogeneity and transitivity but not dyadic and cyclic dependence in
the data.</p>
<p>Since this is a longitudinal model (LAME), the <code>gof_plot</code>
function will automatically produce time series plots showing how the
network statistics evolve over time with credible intervals.</p>
<p>The plot shows the observed values (points) and posterior predictive
intervals (shaded regions) for each network statistic across time
periods. When observed values fall outside the credible bands, it
suggests the model may not fully capture the network structure at those
time points. This can help identify periods where the network exhibits
unique characteristics that the model struggles to represent.</p>
<p>Finally, let’s visualize the latent space of sender and receiver
countries using the <code>uv_plot</code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Network plot showing multiplicative effects</span></span>
<span><span class="fu"><a href="../reference/uv_plot.html">uv_plot</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Sanctions Network - Multiplicative Effects"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    legend.position<span class="op">=</span><span class="st">'none'</span>,</span>
<span>    axis.text<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.title<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="lame-overview_files/figure-html/unnamed-chunk-6-1.png" alt="Network visualization showing multiplicative effects latent space positions of countries in the sanctions network" width="100%" style="display: block; margin: auto;"></p>
<p>This function creates a visualization of the multiplicative effects
(latent factors) from the model. Actors that are close together in the
latent space tend to have similar patterns of connections - either
targeting similar actors (if looking at sender positions) or being
targeted by similar actors (if looking at receiver positions). Countries
impose sanctions or receive sanctions from similar countries if they are
close to each other in this latent space representation.</p>
<p>For instance, Canada (CAN) and USA are positioned close together
indicating they sanction similar countries. Similarly, countries like
Italy (ITA), Dominican Republic (DOM) and Japan (JPN) suggest they
receive sanctions from similar countries. Actors diagonal to each other,
such as Norway (NOR) and Iran (IRN), indicate that they are likely to
sanction each other.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>lame</code> package provides a way for users to analyze
additive and multiplicative effects across replicated relational data.
This vignette demonstrates the basic functionality of the
<code>lame</code> package and provides a walk-through application to
international sanctions data.</p>
<p><strong>References</strong>:</p>
<p>Hoff, PD (2021) Additive and Multiplicative Effects Network Models.
Statistical Science 36, 34–50.</p>
<p>Morgan, T. Clifton, Bapat, N., &amp; Kobayashi, Y. (2014). Threat and
Imposition of Economic Sanctions 1945-2005. Conflict Management and
Peace Science 31(5): 541-558.</p>
<p>Minhas, S., Dorff, C., Gallop, M. B., Foster, M., Liu, H., Tellez,
J., &amp; Ward, M. D. (2022). Taking dyads seriously. Political Science
Research and Methods, 10(4), 703–721. <a href="doi:10.1017/psrm.2021.56" class="uri">doi:10.1017/psrm.2021.56</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shahryar Minhas, Tosin Salau, Cassy Dorff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
